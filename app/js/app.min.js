'use strict';


// Declare app level module which depends on filters, and services
var kidamom = angular.module('kidamom', [
  'ngRoute',
  'kidamom.filters',
  'kidamom.services',
  'kidamom.directives',
  'kidamom.controllers'
])


'use strict';

/* Controllers */

angular.module('kidamom.controllers', []).
  
  controller('Main', ['$scope', function($scope){
  	$scope.scrollH = 50;

  }])
'use strict';

/* Filters */

angular.module('kidamom.filters', []).
  filter('interpolate', ['version', function(version) {
    return function(text) {
      return String(text).replace(/\%VERSION\%/mg, version);
    }
  }]);

'use strict';

/* Directives */


angular.module('kidamom.directives', []).
  directive('appVersion', ['version', function(version) {
    return function(scope, elm, attrs) {
      elm.text(version);
    };
  }])
.directive('shortcut', function() {
  return {
    restrict: 'E',
    replace: true,
    scope: true,
    link:    function postLink(scope, iElement, iAttrs){
      jQuery(document).on('keydown', function(e){
         scope.$apply(scope.keyPressed(e));
         // scope.keyCode = e.which;
       });
    }
  };
})
.directive('mainmenu',function(){
	return {
		link:function(scope,el,attrs){
			scope.menuItem=1;
			var menuItems = 7;
			scope.keyPressed = function(e){
				if(e.which==38){
					//up
					if(scope.menuItem>0)scope.menuItem--;
		  		}
		  		else if(e.which==40){
		  			//down 
		  			if(scope.menuItem<menuItems)scope.menuItem++;
		  		}
			}
		}
	}
})
.directive('icon',function(){
	return {
		restrict:"A",
		link:function link (scope,el,attrs) {
			console.log(attrs);
			attrs.icon
		}
	}
})
'use strict';

/* Services */


// Demonstrate how to register services
// In this case it is a simple value service.
angular.module('kidamom.services', []).
  value('version', '0.1');
